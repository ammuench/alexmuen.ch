---
const { pathname } = Astro.url;
const getStateClass = (href: string) => (href === pathname ? "underline" : "");
---

<header class="navbar bg-primary text-primary-content sticky top-0">
  <script>
    document
      .querySelector("#menu-btn-mobile")
      ?.addEventListener("click", () => {
        // document.querySelector("body")?.classList.toggle("overflow-hidden");
        document
          .querySelector("#menu-btn-mobile")
          ?.classList.toggle("bg-transparent");
        document
          .querySelector("#mobile-menu-links")
          ?.classList.toggle("menu-visible");
      });
  </script>
  <style>
    .menu-default {
      transform: translateY(-100px);
      opacity: 0;
      transition: all 0.075s ease-in;
      pointer-events: none;
    }

    .menu-visible {
      opacity: 1;

      transform: translateY(0px);
      pointer-events: auto;
    }
  </style>
  <div class="w-full max-w-3xl mx-auto flex flex-row justify-between">
    <div class="flex-1 z-50 flex justify-start">
      <a
        href="/"
        class="btn btn-ghost flex text-xl normal-case"
      >
        <span>
          <svg
            id="fi_3418567"
            class="h-auto w-8 fill-primary-content"
            enable-background="new 0 0 512 512"
            height="512"
            viewBox="0 0 512 512"
            width="512"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g>
              <path
                d="m507.606 36.527c-5.857-5.858-15.355-5.858-21.213 0l-29.254 29.254c-17.506-20.573-43.572-33.647-72.638-33.647h-.002c-24.708 0-47.936 9.622-65.402 27.091l-314.703 314.702c-4.29 4.29-5.573 10.742-3.252 16.347 2.322 5.605 7.791 9.26 13.858 9.26h96.4 90.186l50.334 50.333h-11.987c-8.284 0-15 6.716-15 15s6.716 15 15 15h96.399c8.284 0 15-6.716 15-15s-6.716-15-15-15h-41.986l-50.334-50.333h60.188c96.862 0 175.666-78.804 175.666-175.667v-96.368c0-12.449-2.401-24.348-6.759-35.26l34.499-34.499c5.859-5.858 5.859-15.355 0-21.213zm-456.393 333.006 237.987-237.987v60.187c0 98.039-79.761 177.8-177.8 177.8zm398.654-145.666c0 80.321-65.346 145.667-145.666 145.667h-85.338c60.095-36.46 100.338-102.522 100.338-177.8v-60.334c0-19.252 7.496-37.351 21.109-50.961 11.802-11.804 27.496-18.304 44.191-18.304 36.043 0 65.365 29.323 65.365 65.366v96.366z"
              ></path>
              <circle
                cx="400.6"
                cy="112.467"
                r="15"
              ></circle>
            </g>
          </svg>
        </span>
        <span class="font-heading font-bold"> alex muench </span>
      </a>
    </div>
    <div class="flex-none">
      <ul class="menu menu-horizontal px-1 hidden md:flex">
        <li>
          <a
            href="/about-me"
            class=`text-lg font-bold ${getStateClass('/about-me')}`
          >
            about me
          </a>
        </li>
        <li>
          <a
            href="/work"
            class=`text-lg font-bold ${getStateClass('/work')}`
          >
            work
          </a>
        </li>
        <li>
          <a
            href="https://media.ebird.org/catalog?userId=USER1787639&mediaType=photo"
            target="_blank"
            class="text-lg font-bold"
          >
            birding
          </a>
        </li>
      </ul>

      <div class="block md:hidden">
        <button
          id="menu-btn-mobile"
          class="btn btn-sm btn-secondary btn-circle mr-4"
        >
          <svg
            fill="none"
            height="20"
            viewBox="0 0 20 20"
            width="20"
            xmlns="http://www.w3.org/2000/svg"
            id="fi_12314153"
            ><path
              clip-rule="evenodd"
              d="m9 15c0-.5523.44772-1 1-1h6c.5523 0 1 .4477 1 1s-.4477 1-1 1h-6c-.55228 0-1-.4477-1-1zm-6-10c0-.55229.44771-1 1-1h12c.5523 0 1 .44771 1 1 0 .55228-.4477 1-1 1h-12c-.55229 0-1-.44772-1-1zm0 5c0-.55228.44771-1 1-1h12c.5523 0 1 .44772 1 1 0 .5523-.4477 1-1 1h-12c-.55229 0-1-.4477-1-1z"
              fill="rgb(0,0,0)"
              fill-rule="evenodd"
            ></path></svg
          >
        </button>
      </div>
      <div
        id="mobile-menu-links"
        class="md:hidden absolute top-[64px] left-0 w-full bg-primary menu-default"
      >
        <ul class="menu menu-vertical px-1 items-end">
          <li>
            <a
              href="/about-me"
              class=`mobile-link text-lg font-bold ${getStateClass('/about-me')}`
            >
              about me
            </a>
          </li>
          <li>
            <a
              href="/work"
              class=`mobile-link text-lg font-bold ${getStateClass('/work')}`
            >
              work
            </a>
          </li>
          <li>
            <a
              href="https://media.ebird.org/catalog?userId=USER1787639&mediaType=photo"
              target="_blank"
              class="mobile-link text-lg font-bold"
            >
              birding
            </a>
          </li>
        </ul>
        <div class="bg-stone-800 opacity-50 h-screen w-full fixed"></div>
      </div>
    </div>
  </div>
</header>
